{"version":3,"sources":["webpack:///./src/log-in/pages/log-in.vue?219d","webpack:///./src/log-in/services/log-in.service.js","webpack:///src/log-in/pages/log-in.vue","webpack:///./src/log-in/pages/log-in.vue?fda4","webpack:///./src/log-in/pages/log-in.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","hover","class","_v","model","value","callback","$$v","valid","expression","emailRules","on","_g","proxy","email","passwordRules","password","radioRules","typeUser","reset","submit","_b","$event","snackbar","_s","text","staticRenderFns","API_URL","AuthService","user","typeU","axios","post","name","data","formHasErrors","mounted","router","methods","console","then","localStorage","catch","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VContainer","VDivider","VForm","VHover","VIcon","VRadio","VRadioGroup","VRow","VSnackbar","VSpacer","VTextField","VTooltip"],"mappings":"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","file":"js/log-in.6cf4a130.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"log-in mt-15 pt-15\"},[_c('v-container',{staticClass:\"mt-5 px-4\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"align\":\"center\"}},[_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{staticClass:\"transition-swing\",class:(\"elevation-\" + (hover ? 24 : 3)),attrs:{\"max-width\":\"400\"}},[_c('v-card-title',{staticClass:\"justify-center font-weight-bold mb-2\"},[_vm._v(\"Log In\")]),_c('v-card-text',{staticClass:\"pb-0\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.emailRules,\"label\":\"E-mail\",\"placeholder\":\"example@mail.com\",\"required\":\"\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-email-outline\")])]}}],null,true)},[_vm._v(\" Write here the email you registered \")])]},proxy:true}],null,true),model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('v-text-field',{attrs:{\"rules\":_vm.passwordRules,\"label\":\"Password\",\"placeholder\":\"*******\",\"type\":\"password\",\"required\":\"\",\"outlined\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-key-outline\")])]}}],null,true)},[_vm._v(\" Your password is not displayed \")])]},proxy:true}],null,true),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('v-radio-group',{staticClass:\"pa-0 ma-0 ml-2 mb-1\",attrs:{\"rules\":_vm.radioRules,\"row\":\"\",\"required\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({staticClass:\"mr-3\"},on),[_vm._v(\"mdi-help-circle-outline\")])]}}],null,true)},[_vm._v(\" Type of user \")])]},proxy:true}],null,true),model:{value:(_vm.typeUser),callback:function ($$v) {_vm.typeUser=$$v},expression:\"typeUser\"}},[_c('v-radio',{attrs:{\"label\":\"Director\",\"value\":\"director\"}}),_c('v-radio',{attrs:{\"label\":\"Teacher\",\"value\":\"teacher\"}})],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.reset}},[_vm._v(\" Reset Form \")]),_c('v-spacer'),_c('v-btn',{staticClass:\"font-weight-bold\",attrs:{\"disabled\":!_vm.valid,\"color\":\"indigo accent-4\",\"text\":\"\"},on:{\"click\":_vm.submit}},[_vm._v(\" Submit \")])],1)],1)]}}])})],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":\"error\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from 'axios';\nconst API_URL = 'http://appserviceasimov.azurewebsites.net/auth/';\n\nclass AuthService {\n    login(user, typeU) {\n        return axios.post(API_URL + 'sign-in/' + typeU, {\n            email: user.email,\n            password: user.password\n        })\n    }\n}\nexport default new AuthService();","<template>\n  <div class=\"log-in mt-15 pt-15\">\n    <v-container class=\"mt-5 px-4\">\n      <v-row>\n        <v-col cols=\"12\" align=\"center\">\n          <v-hover>\n            <template v-slot:default=\"{ hover }\">\n              <v-card max-width=\"400\" :class=\"`elevation-${hover ? 24 : 3}`\" class=\"transition-swing\" >\n            <v-card-title class=\"justify-center font-weight-bold mb-2\">Log In</v-card-title>\n\n            <v-card-text class=\"pb-0\">\n              <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n                <v-text-field\n                    v-model=\"email\"\n                    :rules=\"emailRules\"\n                    label=\"E-mail\"\n                    placeholder=\"example@mail.com\"\n                    required outlined\n                >\n                  <template v-slot:append>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <v-icon v-on=\"on\">mdi-email-outline</v-icon>\n                      </template>\n                      Write here the email you registered\n                    </v-tooltip>\n                  </template>\n                </v-text-field>\n                <v-text-field\n                    v-model=\"password\"\n                    :rules=\"passwordRules\"\n                    label=\"Password\"\n                    placeholder=\"*******\"\n                    type=\"password\"\n                    required outlined\n                >\n                  <template v-slot:append>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <v-icon v-on=\"on\">mdi-key-outline</v-icon>\n                      </template>\n                      Your password is not displayed\n                    </v-tooltip>\n                  </template>\n                </v-text-field>\n                <v-radio-group v-model=\"typeUser\"\n                               class=\"pa-0 ma-0 ml-2 mb-1\"\n                               :rules=\"radioRules\"\n                               row required>\n                  <v-radio\n                      label=\"Director\"\n                      value=\"director\"\n                  ></v-radio>\n                  <v-radio\n                      label=\"Teacher\"\n                      value=\"teacher\"\n                  ></v-radio>\n                  <template v-slot:append>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on }\">\n                        <v-icon v-on=\"on\" class=\"mr-3\">mdi-help-circle-outline</v-icon>\n                      </template>\n                      Type of user\n                    </v-tooltip>\n                  </template>\n                </v-radio-group>\n              </v-form>\n            </v-card-text>\n\n            <v-divider></v-divider>\n\n            <v-card-actions>\n              <v-btn color=\"error\"\n                     class=\"font-weight-bold\"\n                     text @click=\"reset\">\n                Reset Form\n              </v-btn>\n              <v-spacer></v-spacer>\n              <v-btn :disabled=\"!valid\"\n                     class=\"font-weight-bold\"\n                     color=\"indigo accent-4\"\n                     text @click=\"submit\">\n                Submit\n              </v-btn>\n            </v-card-actions>\n          </v-card>\n            </template>\n          </v-hover>\n        </v-col>\n      </v-row>\n    </v-container>\n    <v-snackbar v-model=\"snackbar\" color=\"error\" dark>\n      {{ text }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar = false\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\nimport AuthService from '@/log-in/services/log-in.service'\nimport router from \"@/router\";\n\nexport default {\n  name: \"log-in\",\n  data: () => ({\n    snackbar: false,\n    text: '',\n    typeUser: \"\",\n    password: null,\n    formHasErrors: false,\n    valid: true,\n    passwordRules: [\n      v => !!v || 'Password is required',\n    ],\n    radioRules: [\n      v => !!v || 'Type user is required',\n    ],\n    email: '',\n    emailRules: [\n      v => !!v || 'E-mail is required',\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n    ],\n  }),\n  mounted() {\n    this.$store.dispatch('changeAuthenticatedFalseAction')\n    if(localStorage.getItem('user')){\n        router.push('/')\n    }\n  },\n  methods: {\n    submit () {\n      this.$refs.form.validate()\n      let val = this.$refs.form.validate();\n      let val2 = this.typeUser;\n      console.log(val);\n      console.log(val2);\n\n      if(val){\n        const user = {\n          email: this.email,\n          password: this.password,\n        };\n\n        AuthService.login(user,val2)\n            .then(response => {\n              if (response.data.token) {\n                localStorage.setItem('user', JSON.stringify(response.data));\n                localStorage.setItem('typeUser', val2);\n                this.$store.dispatch('changeAuthenticatedTrueAction')\n                router.push('/')\n              }\n              console.log(response);\n            })\n            .catch(e => {\n              this.snackbar = true;\n              this.text = 'Wrong username or password';\n              console.log(e);\n            });\n        console.log(\"The user is: \", user);\n\n        this.reset()\n      }\n    },\n    reset () {\n      this.$refs.form.reset()\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./log-in.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./log-in.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./log-in.vue?vue&type=template&id=81bf2e0a&scoped=true&\"\nimport script from \"./log-in.vue?vue&type=script&lang=js&\"\nexport * from \"./log-in.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"81bf2e0a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VContainer,VDivider,VForm,VHover,VIcon,VRadio,VRadioGroup,VRow,VSnackbar,VSpacer,VTextField,VTooltip})\n"],"sourceRoot":""}