(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["announcements"],{"52b3":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"announcements"},[n("v-container",{staticClass:"mt-4"},[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("h1",[e._v("Announcements for teachers")])]),n("v-col",{attrs:{cols:"12"}},[n("v-card",{staticClass:"px-3 pb-1 pt-4"},[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{staticClass:"pb-2",attrs:{"hide-details":"auto",rules:e.rules,label:"Title",placeholder:"Title announcement input",dense:"",required:"",outlined:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),n("v-text-field",{staticClass:"pb-1",attrs:{"hide-details":"auto",rules:e.rules,label:"Description",placeholder:"Description announcement input",dense:"",required:"",outlined:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),n("v-card-actions",[n("v-btn",{staticClass:"font-weight-bold pa-3",attrs:{outlined:"",rounded:"",color:"indigo accent-4"},on:{click:e.createNewAnnouncement}},[e._v("Submit")])],1)],1)],1)],1),n("v-row",{staticClass:"mt-8"},[n("v-col",{attrs:{cols:"12"}},[n("h1",[e._v("Announcements confirmed")])]),n("v-col",{attrs:{cols:"12"}},e._l(e.announcements,(function(t){return n("div",{key:t.id},[n("v-card",{staticClass:"mx-auto my-3 mx-2",attrs:{elevation:"1"}},[n("v-card-title",[n("v-icon",{staticClass:"mr-3"},[e._v("mdi-human-queue")]),e._v(" "+e._s(t.title))],1),n("v-container",{staticClass:"d-flex justify-space-between pt-1 pb-3 px-4 align-center"},[n("p",{staticClass:"mb-0"},[e._v(e._s(t.description))]),n("v-btn",{attrs:{outlined:"",rounded:"",color:"red accent-4"},on:{click:function(n){return e.deleteAnnouncement(t.id)}}},[n("v-icon",[e._v("mdi-trash-can")])],1)],1)],1)],1)})),0)],1)],1),n("v-snackbar",{attrs:{color:"success",dark:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},c=[],r=(n("a4d3"),n("e01a"),n("d81d"),n("6d11")),i={name:"announcements",data:function(){return{snackbar:!1,valid:!0,text:"",color:"",user:{},announcements:[],id:"",title:"",description:"",directorId:null,rules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}]}},created:function(){this.refreshList()},methods:{getDisplayAnnouncement:function(e){return{id:e.id,title:e.title,description:e.description,directorId:e.directorId}},refreshList:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));r["a"].getAllByID(t.id).then((function(t){e.announcements=t.data.map(e.getDisplayAnnouncement),console.log(t.data)}))},createNewAnnouncement:function(){var e=this;this.$refs.form.validate();var t=this.$refs.form.validate();if(t){this.user=JSON.parse(localStorage.getItem("user"));var n={title:this.title,description:this.description,directorId:this.user.id};r["a"].create(n).then((function(t){console.log(t.data),e.text="Create announcement correctly",e.snackbar=!0,e.reset(),e.refreshList()}))}},deleteAnnouncement:function(e){var t=this;r["a"].delete(e).then((function(){t.text="Delete announcement correctly",t.snackbar=!0,t.refreshList()})).catch((function(e){console.log(e)}))},reset:function(){this.$refs.form.reset()}}},o=i,s=n("2877"),l=n("6544"),u=n.n(l),d=n("8336"),v=n("b0af"),f=n("99d9"),p=n("62ad"),m=n("a523"),b=n("4bd4"),h=n("132d"),k=n("0fd9"),g=n("2db4"),x=n("8654"),C=Object(s["a"])(o,a,c,!1,null,"0af13b23",null);t["default"]=C.exports;u()(C,{VBtn:d["a"],VCard:v["a"],VCardActions:f["a"],VCardTitle:f["d"],VCol:p["a"],VContainer:m["a"],VForm:b["a"],VIcon:h["a"],VRow:k["a"],VSnackbar:g["a"],VTextField:x["a"]})},"6d11":function(e,t,n){"use strict";var a=n("d4ec"),c=n("bee2"),r=n("ade3"),i=(n("99af"),n("eb6d")),o=function(){function e(){Object(a["a"])(this,e),Object(r["a"])(this,"endpoint","/announcements")}return Object(c["a"])(e,[{key:"getAllByID",value:function(e){return i["a"].get("directors/".concat(e).concat(this.endpoint))}},{key:"create",value:function(e){return i["a"].post("".concat(this.endpoint),e)}},{key:"delete",value:function(e){return i["a"].delete("".concat(this.endpoint,"/").concat(e))}}]),e}();t["a"]=new o},eb6d:function(e,t,n){"use strict";var a=n("bc3a"),c=n.n(a);function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?(console.log("Bearer ".concat(e.token)),{Authorization:"Bearer "+e.token}):(console.log("No token available"),{})}t["a"]=c.a.create({baseURL:"http://appserviceasimov.azurewebsites.net/api/v1",headers:r()})}}]);
//# sourceMappingURL=announcements.bfec1d5d.js.map