{"version":3,"sources":["webpack:///./src/announcements/pages/announcements.vue?9e6c","webpack:///src/announcements/pages/announcements.vue","webpack:///./src/announcements/pages/announcements.vue?0ed6","webpack:///./src/announcements/pages/announcements.vue","webpack:///./src/announcements/services/announcements.service.js","webpack:///./src/services/auth-header.js","webpack:///./src/core/http-common.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","model","value","callback","$$v","valid","expression","rules","title","description","on","createNewAnnouncement","_l","announcement","key","id","_s","$event","deleteAnnouncement","scopedSlots","_u","fn","_b","snackbar","text","staticRenderFns","name","data","color","user","announcements","directorId","created","methods","getDisplayAnnouncement","refreshList","AnnouncementsService","then","console","catch","reset","component","VBtn","VCard","VCardActions","VCardTitle","VCol","VContainer","VForm","VIcon","VRow","VSnackbar","VTextField","http","get","endpoint","createAnnouncementDto","post","delete","authHeader","JSON","parse","localStorage","getItem","token","log","axios","create","baseURL","headers"],"mappings":"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","file":"js/announcements.bfec1d5d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"announcements\"},[_c('v-container',{staticClass:\"mt-4\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Announcements for teachers\")])]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card',{staticClass:\"px-3 pb-1 pt-4\"},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{staticClass:\"pb-2\",attrs:{\"hide-details\":\"auto\",\"rules\":_vm.rules,\"label\":\"Title\",\"placeholder\":\"Title announcement input\",\"dense\":\"\",\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-text-field',{staticClass:\"pb-1\",attrs:{\"hide-details\":\"auto\",\"rules\":_vm.rules,\"label\":\"Description\",\"placeholder\":\"Description announcement input\",\"dense\":\"\",\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1),_c('v-card-actions',[_c('v-btn',{staticClass:\"font-weight-bold pa-3\",attrs:{\"outlined\":\"\",\"rounded\":\"\",\"color\":\"indigo accent-4\"},on:{\"click\":_vm.createNewAnnouncement}},[_vm._v(\"Submit\")])],1)],1)],1)],1),_c('v-row',{staticClass:\"mt-8\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h1',[_vm._v(\"Announcements confirmed\")])]),_c('v-col',{attrs:{\"cols\":\"12\"}},_vm._l((_vm.announcements),function(announcement){return _c('div',{key:announcement.id},[_c('v-card',{staticClass:\"mx-auto my-3 mx-2\",attrs:{\"elevation\":\"1\"}},[_c('v-card-title',[_c('v-icon',{staticClass:\"mr-3\"},[_vm._v(\"mdi-human-queue\")]),_vm._v(\" \"+_vm._s(announcement.title))],1),_c('v-container',{staticClass:\"d-flex justify-space-between pt-1 pb-3 px-4 align-center\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(_vm._s(announcement.description))]),_c('v-btn',{attrs:{\"outlined\":\"\",\"rounded\":\"\",\"color\":\"red accent-4\"},on:{\"click\":function($event){return _vm.deleteAnnouncement(announcement.id)}}},[_c('v-icon',[_vm._v(\"mdi-trash-can\")])],1)],1)],1)],1)}),0)],1)],1),_c('v-snackbar',{attrs:{\"color\":\"success\",\"dark\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"announcements\">\n    <v-container class=\"mt-4\">\n      <v-row>\n        <v-col cols=\"12\">\n          <h1>Announcements for teachers</h1>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-card class=\"px-3 pb-1 pt-4\">\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-text-field\n                  hide-details=\"auto\"\n                  class=\"pb-2\"\n                  v-model=\"title\"\n                  :rules=\"rules\"\n                  label=\"Title\"\n                  placeholder=\"Title announcement input\"\n                  dense required outlined\n              ></v-text-field>\n              <v-text-field\n                  hide-details=\"auto\"\n                  class=\"pb-1\"\n                  v-model=\"description\"\n                  :rules=\"rules\"\n                  label=\"Description\"\n                  placeholder=\"Description announcement input\"\n                  dense required outlined\n              ></v-text-field>\n            </v-form>\n            <v-card-actions>\n              <v-btn outlined rounded color=\"indigo accent-4\" class=\"font-weight-bold pa-3\" @click=\"createNewAnnouncement\">Submit</v-btn>\n            </v-card-actions>\n          </v-card>\n        </v-col>\n      </v-row>\n\n      <v-row class=\"mt-8\">\n        <v-col cols=\"12\">\n          <h1>Announcements confirmed</h1>\n        </v-col>\n        <v-col cols=\"12\">\n          <div v-for=\"announcement in announcements\" :key=\"announcement.id\">\n            <v-card class=\"mx-auto my-3 mx-2\" elevation=\"1\">\n              <v-card-title><v-icon class=\"mr-3\">mdi-human-queue</v-icon>\n                {{announcement.title}}</v-card-title>\n              <v-container class=\"d-flex justify-space-between pt-1 pb-3 px-4 align-center\">\n                <p class=\"mb-0\">{{announcement.description}}</p>\n                <v-btn outlined rounded color=\"red accent-4\" @click=\"deleteAnnouncement(announcement.id)\"><v-icon>mdi-trash-can</v-icon></v-btn>\n              </v-container>\n            </v-card>\n          </div>\n        </v-col>\n\n      </v-row>\n    </v-container>\n    <v-snackbar v-model=\"snackbar\" color=\"success\"  dark>\n      {{ text }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar = false\">\n          Close\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\n\n\nimport AnnouncementsService from '@/announcements/services/announcements.service';\n\nexport default {\n  name: \"announcements\",\n  data: () => ({\n    snackbar: false,\n    valid: true,\n    text: '',\n    color: '',\n    user: {},\n    announcements: [],\n    id: '',\n    title: '',\n    description: '',\n    directorId: null,\n    rules: [\n      value => !!value || 'Required.',\n      value => (value && value.length >= 3) || 'Min 3 characters',\n    ],\n  }),\n  created() {\n    this.refreshList()\n  },\n  methods: {\n    getDisplayAnnouncement(announcement){\n      return {\n        id: announcement.id,\n        title: announcement.title,\n        description: announcement.description,\n        directorId: announcement.directorId\n      };\n    },\n    refreshList (){\n      let user = JSON.parse(localStorage.getItem('user'))\n      AnnouncementsService.getAllByID(user.id)\n          .then((response) => {\n            this.announcements = response.data.map(this.getDisplayAnnouncement);\n            console.log(response.data);\n          })\n    },\n    createNewAnnouncement () {\n\n      this.$refs.form.validate()\n      let val = this.$refs.form.validate();\n      if(val) {\n        this.user = JSON.parse(localStorage.getItem('user'))\n        const announcement = {\n          title: this.title,\n          description: this.description,\n          directorId: this.user.id\n        }\n        AnnouncementsService.create(announcement)\n            .then((response) => {\n              console.log(response.data);\n              this.text = 'Create announcement correctly';\n              this.snackbar = true;\n              this.reset();\n              this.refreshList();\n            })\n      }\n    },\n    deleteAnnouncement(id){\n      AnnouncementsService.delete(id)\n          .then( () => {\n            this.text = 'Delete announcement correctly';\n            this.snackbar = true;\n            this.refreshList();\n          })\n          .catch(e => {\n            console.log(e);\n          })\n    },\n    reset () {\n      this.$refs.form.reset()\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announcements.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./announcements.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./announcements.vue?vue&type=template&id=0af13b23&scoped=true&\"\nimport script from \"./announcements.vue?vue&type=script&lang=js&\"\nexport * from \"./announcements.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0af13b23\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VCol,VContainer,VForm,VIcon,VRow,VSnackbar,VTextField})\n","import http from '@/core/http-common'\nclass AnnouncementsService {\n    endpoint = '/announcements';\n    getAllByID(id){\n        return http.get(`directors/${id}${this.endpoint}`);\n    }\n\n    create(createAnnouncementDto){\n        return http.post(`${this.endpoint}`, createAnnouncementDto);\n    }\n\n    delete(id){\n        return http.delete(`${this.endpoint}/${id}`);\n    }\n}\n\nexport default new AnnouncementsService();","export default function authHeader() {\n    let user = JSON.parse(localStorage.getItem('user'));\n    if (user && user.token) {\n        console.log(`Bearer ${user.token}`);\n        return {'Authorization': 'Bearer ' + user.token};\n    } else {\n        console.log(\"No token available\");\n        return {};\n    }\n}","import axios from \"axios\";\nimport authHeader from '@/services/auth-header'\n\nexport default axios.create({\n    baseURL: 'http://appserviceasimov.azurewebsites.net/api/v1',\n    headers: authHeader()\n})"],"sourceRoot":""}