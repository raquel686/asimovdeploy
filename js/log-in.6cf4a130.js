(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["log-in"],{e93e:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"log-in mt-15 pt-15"},[a("v-container",{staticClass:"mt-5 px-4"},[a("v-row",[a("v-col",{attrs:{cols:"12",align:"center"}},[a("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var o=t.hover;return[a("v-card",{staticClass:"transition-swing",class:"elevation-"+(o?24:3),attrs:{"max-width":"400"}},[a("v-card-title",{staticClass:"justify-center font-weight-bold mb-2"},[e._v("Log In")]),a("v-card-text",{staticClass:"pb-0"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail",placeholder:"example@mail.com",required:"",outlined:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-icon",e._g({},o),[e._v("mdi-email-outline")])]}}],null,!0)},[e._v(" Write here the email you registered ")])]},proxy:!0}],null,!0),model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{rules:e.passwordRules,label:"Password",placeholder:"*******",type:"password",required:"",outlined:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-icon",e._g({},o),[e._v("mdi-key-outline")])]}}],null,!0)},[e._v(" Your password is not displayed ")])]},proxy:!0}],null,!0),model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-radio-group",{staticClass:"pa-0 ma-0 ml-2 mb-1",attrs:{rules:e.radioRules,row:"",required:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[a("v-icon",e._g({staticClass:"mr-3"},o),[e._v("mdi-help-circle-outline")])]}}],null,!0)},[e._v(" Type of user ")])]},proxy:!0}],null,!0),model:{value:e.typeUser,callback:function(t){e.typeUser=t},expression:"typeUser"}},[a("v-radio",{attrs:{label:"Director",value:"director"}}),a("v-radio",{attrs:{label:"Teacher",value:"teacher"}})],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"error",text:""},on:{click:e.reset}},[e._v(" Reset Form ")]),a("v-spacer"),a("v-btn",{staticClass:"font-weight-bold",attrs:{disabled:!e.valid,color:"indigo accent-4",text:""},on:{click:e.submit}},[e._v(" Submit ")])],1)],1)]}}])})],1)],1)],1),a("v-snackbar",{attrs:{color:"error",dark:""},scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[a("v-btn",e._b({attrs:{text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",o,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.text)+" ")])],1)},r=[],s=(a("ac1f"),a("00b4"),a("e9c4"),a("d4ec")),n=a("bee2"),i=a("bc3a"),l=a.n(i),c="http://appserviceasimov.azurewebsites.net/auth/",u=function(){function e(){Object(s["a"])(this,e)}return Object(n["a"])(e,[{key:"login",value:function(e,t){return l.a.post(c+"sign-in/"+t,{email:e.email,password:e.password})}}]),e}(),d=new u,v=a("a18c"),p={name:"log-in",data:function(){return{snackbar:!1,text:"",typeUser:"",password:null,formHasErrors:!1,valid:!0,passwordRules:[function(e){return!!e||"Password is required"}],radioRules:[function(e){return!!e||"Type user is required"}],email:"",emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}]}},mounted:function(){this.$store.dispatch("changeAuthenticatedFalseAction"),localStorage.getItem("user")&&v["a"].push("/")},methods:{submit:function(){var e=this;this.$refs.form.validate();var t=this.$refs.form.validate(),a=this.typeUser;if(console.log(t),console.log(a),t){var o={email:this.email,password:this.password};d.login(o,a).then((function(t){t.data.token&&(localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("typeUser",a),e.$store.dispatch("changeAuthenticatedTrueAction"),v["a"].push("/")),console.log(t)})).catch((function(t){e.snackbar=!0,e.text="Wrong username or password",console.log(t)})),console.log("The user is: ",o),this.reset()}},reset:function(){this.$refs.form.reset()}}},f=p,m=a("2877"),b=a("6544"),h=a.n(b),g=a("8336"),w=a("b0af"),k=a("99d9"),y=a("62ad"),_=a("a523"),x=a("ce7e"),V=a("4bd4"),C=a("ce87"),S=a("132d"),R=a("67b6"),T=a("43a6"),q=a("0fd9"),U=a("2db4"),$=a("2fa4"),A=a("8654"),E=a("3a2f"),I=Object(m["a"])(f,o,r,!1,null,"81bf2e0a",null);t["default"]=I.exports;h()(I,{VBtn:g["a"],VCard:w["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VCol:y["a"],VContainer:_["a"],VDivider:x["a"],VForm:V["a"],VHover:C["a"],VIcon:S["a"],VRadio:R["a"],VRadioGroup:T["a"],VRow:q["a"],VSnackbar:U["a"],VSpacer:$["a"],VTextField:A["a"],VTooltip:E["a"]})}}]);
//# sourceMappingURL=log-in.6cf4a130.js.map